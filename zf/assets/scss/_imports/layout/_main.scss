///
// @package   Cenere (free) - accessibletemplate
// @version   4.0.0
// @author    Francesco Zaniol, accessibletemplate - http://www.accessibletemplate.com
// @copyright Copyright (C) 2011-Present Francesco Zaniol
// @license   http://ec.europa.eu/idabc/eupl.html EUPL v1.1 only
///

/*==========================================================================
   LAYOUT PARTIALS
==========================================================================*/

/*------------------------------------------------------------
   HEADER
------------------------------------------------------------*/

#zf--header--skin{ position:relative; }

#zf--header-top--skin{
    position:relative;
    margin:.6em 0 .2em 0;
}

#zf--header-middle--skin{
    margin:.4em 0;
    .zf--header-top-absent &{
        margin-top:2em;
    }
}

// --------- Header aside --------- //

#zf--header-aside--skin>[id*="zf--"]{
    display: inline-block;
    vertical-align: middle;
    html.ie8 &{ // IE8 is buggy in rendering display:inline-block
        float:left;
    }
}
#zf--header-aside #zf--language-switcher--skin,
#zf--header-aside #zf--follow-us--skin,
#zf--header-aside #zf--support-menu--skin{
    margin:.2em .4em;
}

// --------- Header-bottom --------- //

#zf--header-bottom--skin{
    position:relative;
    // Note: do not set as "display:table" or .zf--enclose will break
    margin:.4em 0 0 0;
    @media #{$global-var_mediaquery-sm}{
        padding:0 1% 0 1.6%; // Some additional space so that the icons are not too close to the edge of the mobile' screen
    }
}
#zf--main-menu,
#zf--toolbox{
    display: table-cell;
    vertical-align: middle;
}
#zf--main-menu{
    width:100%;
}
#zf--toolbox{
    width:0;
}

/*------------------------------------------------------------
   MAIN BODY
------------------------------------------------------------*/

#zf--main-body{
    @media #{$global-var_mediaquery-sm}{
        #zf--body &{ float:none;width:100%; }
    }
}

#zf--main-body--skin{ 
    html[data-zf--line-height="sm"] &{ line-height: 1.1; }
    html[data-zf--line-height="lg"] &{ line-height: 1.9; }
    html[data-zf--line-height="xl"] &{ line-height: 2.5; }
}

/*------------------------------------------------------------
   LEFT COLUMN
------------------------------------------------------------*/

#zf--left-column{
    float:left;
    html[dir="rtl"] &{ float:right; }
    body.zf--left-column-exists &{width:20%;}
    body.zf--left-column-exists.zf--right-column-exists &{width:17%;}
    @media #{$global-var_mediaquery-sm}{
        #zf__html #zf--body &{ float:none;width:100%; }
    }
}
#zf--left-column--skin{
    margin-bottom:2em;
}

/*------------------------------------------------------------
   RIGHT COLUMN
------------------------------------------------------------*/

#zf--right-column{
    float:left;
    html[dir="rtl"] &{ float:right; }
    body.zf--right-column-exists &{width:20%;}
    body.zf--right-column-exists.zf--left-column-exists &{width:17%;}
    @media #{$global-var_mediaquery-sm}{
        #zf__html #zf--body &{ float:none;width:100%; }
    }
}
#zf--right-column--skin{
    margin-bottom:2em;
}

/*------------------------------------------------------------
   CONTENT AREA
------------------------------------------------------------*/

#zf--main-body-middle--encloser, // both are needed!
#zf--main-body-middle--skin{ // both are needed!
    position: relative; // Needed for the two arrows to be positioned correctly
}

#zf--main-content{
    float:left;
    html[dir="rtl"] &{ float:right; }
    width:100%;
    body.zf--left-column-exists &,
    body.zf--right-column-exists &{width:80%;}
    body.zf--right-column-exists.zf--left-column-exists &{width:66%;}
    @media #{$global-var_mediaquery-sm}{
        #zf--body &{ float:none;width:100%; }
    }
}
#zf--main-content--skin{
    margin:1em 0;
    padding:0;
    position:relative;
    padding-left:3%;padding-right:3%;
    body.zf--right-column-exists.zf--left-column-exists &{padding-left:1%;padding-right:1%;}
}

// Forced full-width content
#zf--main-body-middle--skin,
#zf--main-content--skin{
    #zf--body.zf--main-content-area-no-spacing &{
        margin:0;padding:0;
    }
}

// --------- Main content elements --------- //

#zf--main-article p{}
#zf--main-article ul{}
#zf--main-article ol{}
#zf--main-article ul li,
#zf--main-article ol li{}
#zf--main-article h1 a,
#zf--main-article h2 a,
#zf--main-article h3 a,
#zf--main-article h4 a,
#zf--main-article h5 a,
#zf--main-article h6 a{text-decoration:none;}
#zf--main-article h1{}
#zf--main-article h2{}
#zf--main-article h3{}
#zf--main-article h4{}
#zf--main-article h5{}
#zf--main-article h6{}

/*------------------------------------------------------------
   FOOTER
------------------------------------------------------------*/

#zf--footer-content--skin{
    padding:2em 0;
}
#zf--footer-content a{}
#zf--footer-content a:visited{}
#zf--footer-content a:focus,
#zf--footer-content a:hover{}

// --------- footer credits --------- //

#zf--footer-credits--skin{
    margin:2em 4% 1.2em 4%;
}

/*==========================================================================
   MENUS
==========================================================================*/

/*------------------------------------------------------------
   ALL MENUS
------------------------------------------------------------*/

.zf--menu-container .zf--guest-view{
    ul{
        line-height:1;
    }
}

/*------------------------------------------------------------
   SUPPORT MENU
------------------------------------------------------------*/

#zf--support-menu--skin{
    font-size:em(15px);
}
#zf--support-menu ul,
#zf--support-menu ol{
    list-style-type:none;
    padding:0;margin:0;
    float:left;
}
#zf--support-menu ul ul,
#zf--support-menu ol ol{display:none;} // Sub-levels are hidden
#zf--support-menu li{
    margin:0;padding:0;
    float:left;
}
#zf--support-menu a{
    display:block;
    float:left;
}

/*------------------------------------------------------------
   MAIN MENU
------------------------------------------------------------*/

#zf--main-menu, #zf--main-menu--skin{
    position:static; // important otherwise the main menu in mobile wouldn't get to width:100%
}
#zf--main-menu--skin{
    font-size: em(17px);
}

#zf__html.js .zf--section-expand-button.zf--active + #zf--main-menu--skin{
    @media #{$global-var_mediaquery-sm}{
        position:absolute;top:102%;
        left:1%;
        max-width:98%;
        width: em(320px);
        box-shadow: 0 0 8px rgba(0,0,0,.5);
    }
}
#zf__html.js[dir="rtl"] .zf--section-expand-button.zf--active + #zf--main-menu--skin{
    @media #{$global-var_mediaquery-sm}{
        right:1%; left:auto;
    }
}

/*------------------------------------------------------------
   SIDE MENU(S)
------------------------------------------------------------*/

/* Empty */

/*------------------------------------------------------------
   FOOTER MENU
------------------------------------------------------------*/

#zf--footer-menu--skin{
    padding:2em 0;
}
#zf--footer-menu ul,
#zf--footer-menu ol{
    text-align:center;
    margin:0 auto;padding:0;
    list-style-type:none;
}
#zf--footer-menu ul ul,
#zf--footer-menu ol ol{display:none;} // Sub-levels are hidden
#zf--footer-menu li{
    display:inline-block;
    text-align:center;
    margin:0;
    padding:.3em .5em;
    border:0;
}
#zf--footer-menu li a{
    display:inline-block;
    padding:0;margin:0;
    text-align:center;
}

/*==========================================================================
   COMPONENTS & MODULES
==========================================================================*/

/*------------------------------------------------------------
   BREADCRUMBS
------------------------------------------------------------*/

#zf--breadcrumbs{
    float:left;
    clear: both;
    max-width: 100%;
    html[dir="rtl"] &{ float:right; }
}
#zf--breadcrumbs--skin{
    font-size:em(15px);
    line-height: 1.4;
    white-space: nowrap;
    padding:.4em .8em .4em .4em;
    html[dir="rtl"] &{ padding:.4em .4em .4em .8em; }
    margin:0 auto .4em auto;
    overflow: hidden;
    @media #{$global-var_mediaquery-sm}{
        overflow: auto;
    }
}
#zf--breadcrumbs ul,
#zf--breadcrumbs ol,
#zf--breadcrumbs li{padding:0;margin:0;line-height:inherit;}
#zf--breadcrumbs a,
#zf--breadcrumbs span,
#zf--breadcrumbs img{vertical-align:baseline;display:inline-block;}
#zf--breadcrumbs li{
    display:table-cell;
    max-width:14em;
    overflow:hidden;
    text-overflow: ellipsis;
}
#zf--breadcrumbs a{
    text-decoration:none;
    &:hover, &:focus, &:active{ text-decoration:underline; }
    span{ text-decoration:inherit; } // needed for Joomla
}

/*------------------------------------------------------------
   TOOLBOX BUTTONS
------------------------------------------------------------*/

#zf--toolbox-buttons{
    display: table;
    margin:0;padding:0;
    position: relative; // fallback: some old versions of FF and Safari don't apply position relative to table-cell (shell)
    @media #{$global-var_mediaquery-sm}{
        position:static; // Allows panels to align at the begin/end of the screen
    }
}
.zf--toolbox-button-shell{
    display: table-cell;
    vertical-align: middle;
    position:relative; // Panels align accordingly to the button. Will change behaviour on narrow screens
    padding:0;margin:0;
    line-height:1; // needed in order to reset the global one
    @media #{$global-var_mediaquery-sm}{
        position:static; // Allows panels to align at the begin/end of the screen
    }
    .zf--header-buttons-style-icon-and-text &{
        vertical-align: bottom; // bottom text is aligned, not the icons
    }
}
.zf--toolbox-button{
    position:relative; // needed for the top arrow (see below)
    display:block;
    margin:0;border:0;
    padding:0 .35em; // note: this is valid for the icon, text is overridden, see below
    &, &:visited, &:hover, &:active, &:focus{ // note: :visited is strangely needed by Firefox
        text-transform:none;
        background-color:transparent;
        text-decoration:none;
        color:inherit;
    }
    .zf--header-buttons-style-icon-and-text &{
        min-width:3em;
        @media #{$global-var_mediaquery-combo-sm-md}{
            min-width:auto;
        }
    }
}

// --------- Font-icons style --------- //

.zf--toolbox-button .zf--zhong-icon{
    display: block;
    line-height:1;
    padding:.1em 0;
    background:none;
    text-decoration:none;
    color: inherit;
    text-align:center;
    transition:color .3s ease-out;
}
.zf--toolbox-button .zf--zhong-icon-login{
    font-size:em(35px);
    @media #{$global-var_mediaquery-sm}{
        line-height: 1;
        height:1.2em;
        font-size:em(38px);
    }
    .zf--header-buttons-style-icon-and-text &{
        font-size:em(32px);
        height:auto;
        @media #{$global-var_mediaquery-sm}{
            line-height: .9;
            height:auto;
            font-size:em(32px);
        }
    }
}
.zf--toolbox-button .zf--zhong-icon-search{
    line-height: .85; // needed for better alignment to the other icons
    font-size:em(38px);
    @media #{$global-var_mediaquery-sm}{
        font-size:em(44px);
    }
    .zf--header-buttons-style-icon-and-text &{
        font-size:em(36px);
        @media #{$global-var_mediaquery-sm}{
            font-size:em(37px);
        }
    }
}
.zf--toolbox-button .zf--zhong-icon-accessibility{
    font-size:em(34px);
    @media #{$global-var_mediaquery-sm}{
        font-size:em(40px);
    }
    .zf--header-buttons-style-icon-and-text &{
        font-size:em(30px);
        @media #{$global-var_mediaquery-sm}{
            font-size:em(32px);
        }
    }
}
.zf--toolbox-button .zf--zhong-icon-double-a{
    font-size:em(36px);
    @media #{$global-var_mediaquery-sm}{
        font-size:em(38px);
    }
    .zf--header-buttons-style-icon-and-text &{
        font-size:em(30px);
        @media #{$global-var_mediaquery-sm}{
            font-size:em(32px);
        }
    }
}

// --------- Icon only style --------- //

.zf--header-buttons-style-icon-only{
    .zf--toolbox-button--text,
    #zf--main-menu-expand-button-text{
        @extend %visually-hidden;
    }
    #zf--main-menu-expand-button-icon{
        font-size: em(50px);
    }
}

// --------- Icon and text style --------- //

.zf--header-buttons-style-icon-and-text{

    .zf--toolbox-button--text,
    #zf--main-menu-expand-button-text{
        text-align: center;
        text-decoration: none;
        display: block;
        font-size: em(15px);
        padding: 0 0 .3em 0;
        white-space: nowrap;
        @media #{$global-var_mediaquery-sm}{
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 8em;
        }
    }

    #zf--main-menu-expand-button-icon{
        font-size: em(40px);
    }

}

/*------------------------------------------------------------
   TOOLBOX PANELS
------------------------------------------------------------*/

.zf--toolbox-panel{
    position: absolute;
    top:100%;
    right:50%;left:auto;
    margin:0;
    margin-top:10px;
    margin-right:-22px; // note: depends on the position of the top-arrow
    html[dir="rtl"] &{
        left:50%;right:auto;
        margin-right:0;
        margin-left:-22px;
    }
    width: em(320px);
    opacity:0;
    visibility:hidden;
    transform: translate(0,10px);
    transition:opacity .15s ease, visibility .15s ease, transform .15s ease; // quick animation in order to prevent false focusing when tabbing quickly after closing a panel
    &.zf--active{
        // Note: the visibility transition must be disabled in fade-in because, strangely, JAWS doesn't read the live-region when the panel is showed. It is certainly a bug and it might get fixed in a future release. It's strange because it happens only for toolbox panels (not for floating sub-menus)
        transition:opacity .5s ease, transform .4s ease;
    }
    @media #{$global-var_mediaquery-sm}{
        max-width:98%;
        right:1%;left:auto;
        margin-right:0;
        margin-top:4px;
        html[dir="rtl"] &{
            left:1%;right:auto;
            margin-right:0;
            margin-left:0;
        }
    }
}

.zf--toolbox-panel.zf--active,
html.no-js .zf--toolbox-button-shell:hover>.zf--toolbox-panel{
    opacity:1;
    visibility:visible;
    transform: translate(0,0);
}

html.no-js .zf--toolbox-button-shell:hover>.zf--toolbox-panel{
    // This override is needed otherwise the mouse-over has a margin gap that doesn't keep the :hover state
    margin-top:0;
}

.zf--toolbox-panel--skin{
    padding:.5em;
    -webkit-box-shadow:0px 1px .6em rgba(0, 0, 0, .45); // It's very important that the box shadow is applied to as many devices as possible, so let's keep the prefixed rules
    -moz-box-shadow:0px 1px .6em rgba(0, 0, 0, .45);
    box-shadow:0px 1px .6em rgba(0, 0, 0, .45);
    border-radius: 1px;
}


html.ie8 .zf--toolbox-panel{ // ~box-shadow; note that it wasn't applied to --skin cause the shadows applies paddings
    -ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Color=#cccccc, Strength=5, Direction=0), progid:DXImageTransform.Microsoft.Shadow(Color=#cccccc, Strength=5, Direction=90), progid:DXImageTransform.Microsoft.Shadow(Color=#cccccc, Strength=5, Direction=180), progid:DXImageTransform.Microsoft.Shadow(Color=#cccccc, Strength=5, Direction=270)";
}

// --------- Toolbox's top-triangle --------- //

.zf--toolbox-panel-top-arrow{

    display:block;
    position:absolute;
    border-color:inherit; // needed to inherit the arrow's bg-color
    width:24px; // note: additional space is give to host the shadow
    height:16px;
    overflow: hidden; // needed so that box-shadow doesn't overflow
    top:-16px;
    left:auto;right:10px;
    html[dir="rtl"] &{ right:auto;left:10px; }
    @media #{$global-var_mediaquery-sm}{
        display:none; // hide the arrow, cause the panel is full-width
    }

    &:before{ // triangle's shadow
        content:'';
        display:block;
        position:absolute;
        width:1px;height:1px;
        top:14px;
        left:12px;
        box-shadow: 0px 0px 10px 2px #000;
    }

    &:after{
        content:'';
        display:block;
        position:absolute;
        width:0;height:0;
        top:8px;
        left:4px;
        border-width:8px;
        border-style:hidden inset solid outset;
        border-color:transparent;
        border-bottom-color:inherit;
    }

}

// Center all inner modules
.zf--toolbox-panel #zf--search,
.zf--toolbox-panel #zf--login{
    display:table;
    margin:0 auto;
    max-width:100%;
}

// Login
.zf--toolbox-panel #zf--login{ min-width:80%; } // The form in Joomla tends to be too narrow
.zf--toolbox-panel #zf--login--skin{
    padding:1em 1%;
}

/*------------------------------------------------------------
   ACCESSIBILITY PANEL
------------------------------------------------------------*/

#zf--accessibility-options-toolbox-panel{
    width:18em; // Note: this is an override to the normal width
    @media #{$global-var_mediaquery-sm}{
        font-size: em(14px); // Shrink the size on mobile
        width:16em;
    }
}

// Inner container
#zf--accessibility-options--skin{
    padding:.4em 1% 0 5%;
}

// Section heading
#zf--accessibility-options--section-heading {
    font-size: em(20px);
    padding-right: 30%;
    padding-left: 4%;
    margin: 1em 0 .4em 0;
    // Some languages have longer translations, so they need more space:
    html[lang="it"] &,
    html[lang="hr"] &,
    html[lang="ms"] &,
    html[lang="de"] &{ padding-right: 38%; }
    html[lang="pt"] &,
    html[lang="fr"] &{ padding-right: 36%; }
    html[lang="hi"] &{ padding-right: 52%; }
    // Rtl languages need opposite paddings
    html[dir="rtl"] &{ padding-right: 4%; padding-left: 32%; }
}

// Reset button
#zf--accessibility-options-reset-button{
    position:absolute;
    font-size:em(16px);
    margin:0;
    top:em(8px);left:auto;right:em(8px);
    html[dir="rtl"] &{ left:em(8px);right:auto; }
    opacity:0;visibility:hidden;
    transform:translate(em(8px),0);
    html[dir="rtl"] &{ transform:translate(em(-8px),0); }
    transition: opacity .15s ease, visibility .15s ease, transform .15s ease; // .15s = same as toolbox-panel
    #zf--accessibility-options-toolbox-panel.zf--active &.zf--active{
        // Note: I'm setting the visibility only when the panel is visible too cause
        // it uses visibility as well. These would conflict
        opacity:1;
        visibility:visible;
        transform:translate(0,0);
        transition: opacity .6s ease, visibility .6s ease, transform .4s ease;
    }
}

// Accessibility-options user module
#zf--accessibility-options-user-module{
    width:92%;
    margin:1em 4%;
    clear:both;
}

/*------------------------------------------------------------
   ACCESSIBILITY MODULES
------------------------------------------------------------*/

// --------- Common --------- //

.zf--accessibility-panel-module{
    margin-bottom:.5em;
    @extend %clearfix;
}
.zf--accessibility-panel-module-description{
    font-size:em(16px);
    margin:.3em 0 .5em 0;
}

#zf--font-resizer,
#zf--theme-switcher,
#zf--legibility-switcher,
#zf--layout-width-resizer,
#zf--line-height-resizer{

    margin:0;padding:0;
    @extend %clearfix;

    li{
        margin:0;padding:0;
        list-style:none;
        float:left;clear:none;
        margin:0 .3em .3em .3em;
        html[dir="rtl"] &{ float:right; }
    }

    button, a{
        font-size:em(18px);
        padding:.5em .7em;
        text-transform: none;
        display:block;
        line-height:1;
    }

}

// --------- Legibility switcher --------- //

.zf--legibility-switcher-button{
    position:relative;
    width:3.4em;
    #zf--legibility-switcher &{ // need more priority for this override
        padding-top:.7em;
        padding-bottom:.7em;
    }
    // For certain languages switching to serif/sans-serif is useless, therefore
    // instead of showing a single letter the full translation is showed
    // Note: see "legibility-switcher.php" for more info
    html[lang="zh"] &, // Chinese & Chinese traditional
    html[lang="ar"] &, // Arabic
    html[lang="fa"] &, // Persian
    html[lang="hi"] &, // Hindi
    html[lang="th"] &  // Thai
        { width: auto; }
}
.zf--legibility-switcher-button-icon{
    position: absolute;
    width: 100%;
    height: 1em;
    text-align: center;
    line-height: 1;
    left: 0;
    top: 50%;
    margin-top: -.5em;
    font-size:em(32px);
    &:before{
        content:'Aa';
        // For certain languages "Aa" is not part of the alphabet
        // Note: certain languages have no differences between serif/sans-serif,
        // so they show the full translation of "bold" instead of a single letter
        html[lang="he"] &{ content: 'א'; } // Hebrew
        html[lang="el"] &{ content: 'Αα'; } // Greek
    }
}
#zf--legibility-serif-button-icon:before{font-family:Georgia, serif !important;font-weight:normal !important;}
#zf--legibility-sans-serif-button-icon:before{font-family:Verdana, sans-serif !important;font-weight:normal !important;}
#zf--legibility-bold-button-icon:before{font-family:'HelveticaNeue-Bold', 'Helvetica Neue Bold', 'Arial Black', 'Arial Bold', Verdana, sans-serif !important;font-weight:bold !important;}

// --------- Theme switcher --------- //

#zf--theme-switcher{
    button{
        -webkit-appearance: none;
        -moz-appearance: none;
        background:none !important;
        border:2px solid #111 !important;
        border-radius:99em !important;
    }
    .zf--theme-switcher-button-icon{
        color:inherit !important;
        line-height:1;
        display:block;
    }
    .zf--theme-switcher-button-icon:before{
        content:'A';
        display:block;
        font-family:sans-serif !important;
        font-weight:normal !important;
        color:inherit !important;
        font-size:em(22px) !important;
        // For certain languages "A" is not part of the alphabet
        html[lang="zh"] &{ content: '字'; } // Chinese & Chinese traditional
        html[lang="ar"] &{ content: 'ا'; } // Arabic
        html[lang="fa"] &{ content: 'ا'; } // Persian
        html[lang="he"] &{ content: 'א'; } // Hebrew
        html[lang="hi"] &{ content: 'अ'; } // Hindi
        html[lang="th"] &{ content: 'ก'; } // Thai
    }
    #zf--low-brightness-theme-button{
        color:#555 !important;
        border-color:#555 !important;
        background:#AAA !important;
    }
    #zf--inverted-theme-button{
        color:#FFF !important;
        border-color:#111 !important;
        background:#111 !important;
        #zf__html.zf--no-support-css3-filter &{ display:none; }
    }
}

#zf--inverted-theme-button-shell{
    // Inverted theme is disabled in mobile devices because som low-end phones
    // may suffer from severe performance issues
    @media #{$global-var_mediaquery-sm}{
        display: none;
    }
    #zf__html.zf--fixed-meta-viewport &{
        display: none;
    }
}

// --------- Layout width resizer --------- //

#zf--layout-width-resizer-container{
    @media #{$global-var_mediaquery-sm}{
        display:none;
    }
}

.zf--layout-width-resizer-btn-icons{
    font-size:em(28px) !important;
    line-height: .6 !important;
    font-family: sans-serif !important;
    letter-spacing:.1em !important;
}
#zf--layout-width-resizer-increase-btn-icon{ content:'&#171;&#187'; }
#zf--layout-width-resizer-decrease-btn-icon{ content:'&#187;&#171'; }

// --------- IE8< --------- //
// IE8< doesn't support some features well

#zf__html.lt-ie9{
    #zf--line-height-resizer-container,
    #zf--legibility-switcher-container,
    #zf--theme-switcher-container,
    #zf--layout-width-resizer-container{
        display: none;
    }
}

/*------------------------------------------------------------
   LANGUAGE SWITCHER
------------------------------------------------------------*/

#zf--language-switcher--skin{
    font-size:em(15px);
}

/*------------------------------------------------------------
   SOCIAL LINKS
------------------------------------------------------------*/

#zf--follow-us ul{float:left;}
#zf--follow-us li{
    float:left;
    padding:0 .1em;
}
#zf--follow-us a{
    display:inline-block;
    text-decoration:none;
    color:inherit;
    line-height:1em;
    min-width:1em;
    text-align:center;
    padding:0 .1em;
}

/*------------------------------------------------------------
   SEARCH
------------------------------------------------------------*/

#zf--search button,
#zf--search input{
    display: inline-block;
    vertical-align: middle;
}
#zf--search form input[type=text],
#zf--search form input[type=search]{
    margin:0 .2em 0 0;
}

#zf--header-top #zf--search{

    font-size: em(14px);
    margin:0 .4em;

    .search{
        @extend %clearfix;
    }

    form{padding:0;}
    form fieldset{
        display:block;
        float:left;
        text-align:left;
        padding:1.6em;
        width:6em;
    }
    form label{
        @extend %visually-hidden;
    }
    form button,
    form input[type=submit]{
        font-size:em(15px);
        float:left;
        margin:0;
    }
    form input[type=text],
    form input[type=search]{
        font-size:em(14px);
        width:auto;
        float:right;
        margin:0;
    }

}

/*------------------------------------------------------------
   WEBSITE PRESENTATION
------------------------------------------------------------*/

// --------- Common style --------- //

#zf--site-banner{
    position:relative;
}
#zf--site-banner--skin{
    margin:0 0 .8em 0;
    padding:0 .8em; // keep padding otherwise the logo's width gets distorted
}
#zf--site-logo--skin,
#zf--site-titles--skin{
    position:relative;
}
#zf--site-titles{
    @media #{$global-var_mediaquery-sm}{
        font-size:80%;
    }
}
#zf--site-title{white-space:normal;display:block;}
#zf--site-subtitle{white-space:normal;display:block;}

// Common style for the logo (and its related link/heading)
// This solution allows the logo to adapt gracefully to layout resizes
// Note that a hack for IE8/7 is needed (it is also included in custom-user-style.php)
#zf--site-logo-heading,
#zf--site-logo-link,
#zf--site-logo-image{
    display:block;
    width:100%; // IMPORTANT: Keep width:100% and do NOT set max-width:100%; this will make it adapt to the parent's display:table-cell when aligned left or right. Do NOT set width:auto, FF doesn't scale it down
    height:auto; // Needed for the image
    margin:0;padding:0; // Reset spacing 
    html.lt-ie9 &{ width:auto; max-width:100%; } // IE8 and IE7 are buggy and they need this hack. Note that IE8 does NOT resize the logo when aligned left or right (it does resize the logo properly only when centered)
}

// --------- Logo img --------- //

#zf--body #zf--site-logo-image-mobile+#zf--site-logo-image{ // If the custom mobile logo is active, hide the default one
    @media #{$global-var_mediaquery-sm}{
        display:none;
    }
}
#zf__html #zf--body #zf--site-logo-image-mobile{ // Keep higher priority here!
    @media #{$global-var_mediaquery-combo-md-lg}{
        display:none;
    }
}
#zf__html.lt-ie9 #zf--site-logo-image-mobile{ // IE8< doesn't support media-queries
    display:none !important;
}

// --------- Left & Right alignments --------- //

#zf--header.zf--site-banner-alignment-side{

    #zf--site-banner{
        float: left;
        @media #{$global-var_mediaquery-sm}{
            float: none;
        }
    }
    #zf--site-banner--skin{
        @media #{$global-var_mediaquery-sm}{
            text-align: center;
        }
    }

    #zf--site-logo,
    #zf--site-titles{
        display:table-cell; // Vertical alignment relatively to logo and titles
        vertical-align:middle;
    }
    #zf--site-logo{
        @media #{$global-var_mediaquery-sm}{
            display: inline-block;
        }
    }
    #zf--site-titles{
        @media #{$global-var_mediaquery-sm}{
            display: block; // forces new line
        }
    }

    #zf--site-logo--skin{
        margin-right:1em;
        html[dir="rtl"] &{ margin-left:1em; }
        @media #{$global-var_mediaquery-sm}{
            margin-right:0;
        }
    }

    html[dir="rtl"] & #zf--site-banner{
        float: right;
        @media #{$global-var_mediaquery-sm}{
            float: none;
        }
    }

}

// --------- Center alignment --------- //

#zf--header.zf--site-banner-alignment-center{

    #zf--header-aside--skin{
        margin:0 0 .8em 0;
    }

    #zf--header-middle--skin, // Needed for centering the whole banner inline-block
    #zf--site-banner--skin, // Needed for centering the logo
    #zf--site-banner{ // The whole banner is centered for text-align
        text-align:center; // Note: there is no need to reset the text-align to its original state (left, or right in RTL), because the whole banner should be text-center anyway
    }

    #zf--site-logo{ // This is needed in case the title or subtitle is wider than the logo
        display:inline-block; // Needed for centering
        width:auto;
        max-width:100%; // Needed if the layout gets shrinked
    }

    #zf--site-title,
    #zf--site-subtitle{
        text-align:center;
        text-indent:0;
        white-space:normal;
    }

    &.zf--show-site-logo-false #zf--site-titles--skin{
        margin:1em auto; // If the logo isn't displayed, make some additional space
    }

}

// --------- Full width logo style --------- //

#zf--header.zf--full-width-logo-true{
    #zf--site-banner,
    #zf--site-banner--skin,
    #zf--site-logo,
    #zf--site-logo--skin,
    #zf--site-logo-image,
    #zf--site-logo-image-mobile{
        display:block;
        width:100%;
        margin:0;padding:0;
    }
}

/*------------------------------------------------------------
   ALERTS PANEL
------------------------------------------------------------*/

// --------- General style --------- //

#zf--alerts-panel{

    width:100%;left:0;right:0;
    position:fixed;
    opacity:0;
    transition: opacity .3s ease, transform .3s ease;

    top:auto;bottom:0;transform:translate(0,6em); // "bottom" position is the default one
    &.zf--alerts-panel-position-top{
        top:0;bottom:auto;transform:translate(0,-6em);
    }

    // Active state:
    &.zf--active{
        opacity:1;
        transform:translate(0,0);
        transition: opacity .8s ease, transform .6s ease;
    }

}

// Skin style
#zf--alerts-panel--skin{
    padding: .6em 2%;
    background: rgba(0,0,0,0.9);
    -ms-filter:"progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#DD000000',endColorstr='#DD000000')";
    color:#FFF;
    a{ color:inherit; }
    html.ie7 &{ background: #222; }
}

// Close button style
#zf--alerts-panel--close-button{
    // Reset the style:
    background:transparent;
    background-image:none;
    border:0;
}
#zf--alerts-panel--close-button--icon:before{
    content:'X';
    font-family:sans-serif !important;
    color:#FFF;
    font-size:1em;
    border: 2px solid #FFF;
    border-radius: .3em;
    display: block;
    padding: .6em;
    line-height: 10px;
    text-align: center;
}

// --------- Horizontal panel style --------- //

#zf--alerts-panel--close-button-container,
#zf--alerts-panel--ok-button-container,
#zf--alerts-panel--content-container,
#zf--alerts-panel--content{
    display:table-cell;
    vertical-align:middle;
}
#zf--alerts-panel--close-button-container{
    padding-left:.3em;
    padding-right:1em;
}
#zf--alerts-panel--ok-button-container{
    padding-left:1em;
    padding-right:.3em;
}
#zf--alerts-panel--close-button-container,
#zf--alerts-panel--ok-button-container{
    white-space: nowrap; // Be sure the text of the buttons doesn't break
}

/*==========================================================================
   OTHER ELEMENTS
==========================================================================*/

// --------- Media Query Detector --------- //

// Note: the divs are, by default, hidden so that browsers that don't support mq will fallback to lg

#zf--mq-detector-sm, #zf--mq-detector-md{
    display: none;
}
#zf--mq-detector-sm{
    @media #{$global-var_mediaquery-sm}{ display: block; }
}
#zf--mq-detector-md{
    @media #{$global-var_mediaquery-md}{ display: block; }
}

// --------- Quick access menu --------- //

#zf--quick-access-menu{
    position: fixed;
    max-width:92%; // needed for mobile
    width:auto;
    top:0em;
    left:-9999em;
    box-shadow:0 0 16px rgba(0,0,0,.7);
    transition:opacity .4s ease, top .4s ease;
    html.no-js &{ display:none; }
}
#zf--quick-access-menu.zf--active{
    opacity:1;
    top:1em;
    left:4%;
    html[dir="rtl"] &{ right:4%;left:auto; }
}
#zf--quick-access-menu.zf--active.zf--transitioning{
    opacity:0;
}

#zf--quick-access-menu--descr{
    display:block;
    background:#F2F2F2;
    border:1px solid #C6C9C9;
    font-size:em(18px);
    margin:0;
    padding:.6em .8em;
}

#zf--quick-access-menu ul,
#zf--quick-access-menu li{
    display:block;
    margin:0;padding:0;
    list-style:none;
    border:0;
    overflow:hidden;
}

#zf--quick-access-menu li a{
    text-decoration:none;
    display:block;
    background-color:#FFF;
    border:1px solid #C6C9C9;
    border-top:0;
    margin:0;
    padding:.6em .8em;
    white-space: nowrap;
    transition:color .3s ease, background .3s ease;
}
#zf--quick-access-menu li a:hover,
#zf--quick-access-menu li a:focus,
#zf--quick-access-menu li a:active{
    color:#000;
    background-color:#FE0;
}

#zf--quick-access-menu .zf--quick-access-menu-accesskey-text{
    font-size:em(14px);
    color:#000;
}

// --------- mobile-layout-switcher --------- //

#zf--mobile-site-switcher-link,
#zf--desktop-site-switcher-link{

    padding:.5em 0;margin:.4em 0;
    width:100%;
    text-align: center;
    font-size: em(13px);
    line-height:1.1;

    html.zf--no-support-fixed-meta-viewport &{
        display: none !important;
    }

    display: none; // Hidden in desktop by default, but visible in mobile (see below)

}

#zf--desktop-site-switcher-link{
    @media #{$global-var_mediaquery-sm}{
        display:block; // showed by default
        html.zf--fixed-meta-viewport.zf--supports-fixed-meta-viewport &{
            display: none;
        }
    }
}

#zf--mobile-site-switcher-link{
    html.zf--fixed-meta-viewport.zf--supports-fixed-meta-viewport &{
        display: block;
    }
}

// --------- "Go to top" button --------- //

#zf--top-anchor{
    display:block;
    float:right;
}
#zf--top-anchor-icon{
    display:inline-block;
    vertical-align:middle;
    fill:inherit;
    width:1em;height:1em;
    &:after{ // fallback icon
        content:'\25B2';
    }
}

// --------- obsolete browser alert --------- //

#zf__obsolete-browser-alert{
    position:relative;
    padding:3em 2em;
}
#zf__hide-obsolete-browser-alert-button{
    display:block;
    position:absolute;top:.2em;left:.2em;
    font-size:1.2em;
}

// --------- Encloser containers --------- //

.zf--encloser{
    margin:0 auto;
    width:98%;
    max-width:98%;
    transition: max-width ease .2s;
    @media #{$global-var_mediaquery-combo-sm-md}{
        width:100%;
        max-width:100%;
    }
}

// --------- No-style <hr/> --------- //

#zf__html #zf--body .zf--no-css-divider{
    display:none;
    visibility:hidden;
}

// --------- Grouped hosts --------- //

.zf--grouped-hosts-row{
    width: 100%; // needed by some old versions of FF
    display: -webkit-flex;
    -webkit-align-items: stretch;
    -webkit-flex-flow: row wrap;
    display: flex;
    align-items: stretch;
    flex-flow: row wrap;
    @media #{$global-var_mediaquery-sm}{
        display: block;
    }
}
.zf--grouped-hosts-row .zf--grouped-host{
    min-height: 1px; // needed by IE10=< and some old android browsers
    display: -webkit-flex;
    -webkit-align-items: stretch;
    -webkit-flex-flow: column nowrap;
    display: flex;
    align-items: stretch;
    flex-flow: column nowrap; // "column nowrap" fixes a bug in FF where the inner images are not responsive
    @media #{$global-var_mediaquery-sm}{
        display: block;
    }
}
.zf--grouped-hosts-row .zf--grouped-host--skin,
.zf--grouped-hosts-row .zf--guest-view,
.zf--grouped-hosts-row [class*="zf--block-coat"]{
    -webkit-flex-grow: 1;
    flex-grow: 1;
    min-height:2px; // Setting this will fix a bug in IE10/11 where the inner images are not responsive
}

// --------- Section expand buttons --------- //

.zf--section-expand-button{

    padding:.6em 1.8em .6em .6em; // 1.6em = spacing for the arrow
    position:relative; // Needed for the arrow
    text-align:left; // fallback
    text-align:initial;
    margin:.4em 4%;
    line-height:1.2;

    &, &:hover, &:focus, &:active, &:visited{
        color:inherit;
        text-decoration: none;
    }

    &.grey-button-style{ // add volume
        background-image: linear-gradient(to top, #DDD 0%,#F8F8F8 100%);
        &:hover, &:focus, &:active, &:visited{
            background-image: linear-gradient(to top, #F4F4F4 0%,#F4F4F4 100%);
        }
    }

    .zf--section-expand-button-icon{
        padding-right:.4em;
        html[dir="rtl"] &{ padding-right:0;padding-left:.4em; }
        font-size: em(19px);
        vertical-align: middle;
        line-height: 1;
        height: 1em;
        display: inline-block;
    }

    &:after{ // Arrow
        content:'';display:block;
        width:0;height:0;
        position:absolute;top:50%;right:.6em;
        margin-top:-.2em;
        border-style:solid inset hidden outset;
        border-width:.4em;
        position: absolute;
        transition: border-color .3s ease;
    }

    &:not(.zf--active):after{ // using :not in order to give crossbrowser support for "initial"
        border-bottom-color:transparent;
        border-left-color:transparent;
        border-right-color:transparent;
        border-top-color:initial; // Note: "initial" is not supported by IE, but having it separated from the other 3 corners will make it fallback to "initial"
    }
    html.ie8 &:before{ // IE8 doesn't support :not()
        border-color:transparent;
        border-top-color:#999;
    }
    &.zf--active:after{
        border-style:hidden inset solid outset;
        border-bottom-color:initial; // Same here: IE doesn't understand initial, but keep it separated from the other 3 corners
        border-left-color:transparent;
        border-right-color:transparent;
        border-top-color:transparent;
    }
    html.ie8 &.zf--active:before{ // IE8 doesn't support :not()
        border-color:transparent;
        border-bottom-color:#999;
    }

}

#zf__html.js .zf--section-expand-button{
    display: none;
    @media #{$global-var_mediaquery-sm}{
        display: block;
    }
}
#zf__html.js .zf--section-expand-button+[id*="--skin"]{
    @media #{$global-var_mediaquery-sm}{
        opacity:0;visibility:hidden;
        transform: translate(0px, 10px);
        transition: none; // Allow transition only on fade-in
    }
}
#zf__html.js .zf--section-expand-button.zf--inactive+[id*="--skin"]{
    @media #{$global-var_mediaquery-sm}{
        position:absolute; // .zf--inactive is needed for this, in order to restore the original position value
    }
    *{
        @media #{$global-var_mediaquery-sm}{
            display:none !important; // Needed, otherwise sub-nodes with "visibility:visible" are still focusable
        }
    }

}
#zf__html.js .zf--section-expand-button.zf--active+[id*="--skin"]{
    @media #{$global-var_mediaquery-sm}{
        transform: translate(0px, 0px);
        opacity:1;visibility:visible;
        transition: opacity .4s ease, visibility .4s ease, transform .4s ease;
    }
}

// Main menu btn is an exception:
#zf__html.js #zf--main-menu-expand-button{
    &:after{ display:none; } // no arrow for main menu
    padding:0 .35em; // same as the others; also, disables paddings for side arrow
    margin:0; // unlike the others, no margin set
    text-align: left;
    vertical-align: bottom;
    .zf--section-expand-button-icon{
        line-height: .85;
        display: block;
        text-align: center;
        height: auto;
        vertical-align: baseline;
        padding:0;
    }
    &+[id*="--skin"]{
        transition: opacity .4s ease, visibility .4s ease, transform .4s ease; // allow fade-out (copyed from above)
    }
    display: none; // hidden on desktop
    @media #{$global-var_mediaquery-sm}{
        display: inline-block; // forces left-alignment; also, same value as the other btns
    }
}

/*==========================================================================
   MISC
==========================================================================*/

/* Fixes Google map max-width problem */
.map img{max-width:inherit;}

/* --------- CSS3 color transitions --------- */

button,input[type=button],
input,textarea,select,
.grey-button-style,
.white-button-style,
.green-button-style,
.red-button-style,
.yellow-button-style,
.violet-button-style,
.blue-button-style,
.black-button-style{
    transition:color .2s ease, background-color .2s ease 0s, border-color .2s ease 0s;
}

.zf--menu-container ul a,
#zf--top-anchor{
    transition:color .2s ease, fill .2s ease, background-color .2s ease 0s, border-color .2s ease 0s;
    &:hover, &:active, &:focus{
        transition:none;
    }
}

/* --------- Accordion block --------- */

html.js .accordion-block{
    display:block;
    overflow:hidden;
    position:relative;
}
.accordion-block-readMore{
    display:block;
    text-align:center;
    width:100%;
    color:#FFF !important;
    border:0;
    height:1.6em;
    position:absolute;
    left:0;
    bottom:0;
    cursor:pointer;
    background-color:#555555;
    background:rgba(85,85,85,.9);
    border-radius:0;
    -moz-border-radius:0;
    -webkit-border-radius:0;
    text-shadow:none;
    box-shadow:none;
}
.accordion-block-readMore:before{
    content:' ';
    position:absolute;
    top:50%;left:50%;
    margin:-.75em -.3em 0 0;
    width:0;height:0;
    border-style:solid;
    border-width:.5em .6em;
    border-color:transparent transparent white transparent;
    transition:all .6s ease-out;
}
.accordion-block.collapsed .accordion-block-readMore:before{
    margin:-.25em -.3em 0 0;
    border-color:white transparent transparent transparent;
}
.accordion-block-readMore:hover{
    background-color:#777;
    background:rgba(119,119,119,.9);
}

// --------- Forced one-column --------- //

@media #{$global-var_mediaquery-combo-md-lg}{
    #zf__html #zf--body.zf--forced-one-column-grid{
        [id^="zf--"][id$="--encloser"] .zf--grouped-host, // grouped hosts are stacked only on a contained layout
        #zf--left-column, #zf--main-content, #zf--right-column{
            display: block; float: none; width:100%;
        }
    }
}
